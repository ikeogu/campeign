import{r as n,a as pe,j as l}from"./app-BdE2JeFJ.js";import{A as he}from"./AuthenticatedLayout-Dwbnveec.js";import{Q as W,$ as q,W as Z,_ as J,a0 as me,a2 as ve,ad as fe,a1 as $,p as xe,r as U,D as ye,d as H,e as ge,f as Pe,g as be,j as Q,k as Ae,l as Ie,af as Ee,n as je,q as Le,w as De,ag as Se,ah as we,Z as Ce,L as Ne,G as ke,t as Oe,ai as Te,v as ee,aj as G,b as M,F as Re,J as _e,H as w,I as We,K as Ke,al as Be,S as ze,M as Fe,an as Ve,ap as $e,aq as Ge,C as Me,X as Xe,Y as Ye,T as qe}from"./CartesianChart-BZijqabk.js";import"./ApplicationLogo-CAb9ilhU.js";import"./transition-SvJ214Yr.js";import"./with-selector-CmgOoGxA.js";var ae=(e,a,r,t)=>Z(e,"xAxis",a,t),te=(e,a,r,t)=>J(e,"xAxis",a,t),re=(e,a,r,t)=>Z(e,"yAxis",r,t),ne=(e,a,r,t)=>J(e,"yAxis",r,t),Ze=W([q,ae,re,te,ne],(e,a,r,t,i)=>fe(e,"xAxis")?$(a,t,!1):$(r,i,!1)),Je=(e,a,r,t,i)=>i;function Ue(e){return e.type==="line"}var He=W([ve,Je],(e,a)=>e.filter(Ue).find(r=>r.id===a)),Qe=W([q,ae,re,te,ne,He,Ze,me],(e,a,r,t,i,s,o,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=c;if(!(s==null||a==null||r==null||t==null||i==null||t.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:m}=s,v;if(m!=null&&m.length>0?v=m:v=d?.slice(u,h+1),v!=null)return ga({layout:e,xAxis:a,yAxis:r,xAxisTicks:t,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:v})}}),ea=["id"],aa=["type","layout","connectNulls","needClip","shape"],ta=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},N.apply(null,arguments)}function X(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function b(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?X(Object(r),!0).forEach(function(t){ra(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ra(e,a,r){return(a=na(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function na(e){var a=ia(e,"string");return typeof a=="symbol"?a:a+""}function ia(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function K(e,a){if(e==null)return{};var r,t,i=sa(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var la=e=>{var{dataKey:a,name:r,stroke:t,legendType:i,hide:s}=e;return[{inactive:s,dataKey:a,type:i,color:t,value:Q(r,a),payload:e}]},oa=n.memo(e=>{var{dataKey:a,data:r,stroke:t,strokeWidth:i,fill:s,name:o,hide:c,unit:d,tooltipType:u}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:s,dataKey:a,nameKey:void 0,name:Q(o,a),hide:c,type:u,color:t,unit:d}};return n.createElement(Ae,{tooltipEntrySettings:h})}),ie=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function da(e,a){for(var r=e.length%2!==0?[...e,0]:e,t=[],i=0;i<a;++i)t=[...t,...r];return t}var ca=(e,a,r)=>{var t=r.reduce((p,m)=>p+m);if(!t)return ie(a,e);for(var i=Math.floor(e/t),s=e%t,o=a-e,c=[],d=0,u=0;d<r.length;u+=r[d],++d)if(u+r[d]>s){c=[...r.slice(0,d),s-u];break}var h=c.length%2===0?[0,o]:[o];return[...da(r,i),...c,...h].map(p=>"".concat(p,"px")).join(", ")};function ua(e){var{clipPathId:a,points:r,props:t}=e,{dot:i,dataKey:s,needClip:o}=t,{id:c}=t,d=K(t,ea),u=Fe(d);return n.createElement(Ve,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:a})}function pa(e){var{showLabels:a,children:r,points:t}=e,i=n.useMemo(()=>t?.map(s=>{var o,c,d={x:(o=s.x)!==null&&o!==void 0?o:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return b(b({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[t]);return n.createElement(Ke,{value:a?i:void 0},r)}function Y(e){var{clipPathId:a,pathRef:r,points:t,strokeDasharray:i,props:s}=e,{type:o,layout:c,connectNulls:d,needClip:u,shape:h}=s,p=K(s,aa),m=b(b({},Be(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(a,")"):void 0,points:t,type:o,layout:c,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return n.createElement(n.Fragment,null,t?.length>1&&n.createElement(ze,N({shapeType:"curve",option:h},m,{pathRef:r})),n.createElement(ua,{points:t,clipPathId:a,props:s}))}function ha(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ma(e){var{clipPathId:a,props:r,pathRef:t,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:u,animationDuration:h,animationEasing:p,animateNewValues:m,width:v,height:P,onAnimationEnd:f,onAnimationStart:I}=r,A=i.current,x=Re(o,"recharts-line-"),y=n.useRef(x),[L,D]=n.useState(!1),O=!L,T=n.useCallback(()=>{typeof f=="function"&&f(),D(!1)},[f]),R=n.useCallback(()=>{typeof I=="function"&&I(),D(!0)},[I]),E=ha(t.current),k=n.useRef(0);y.current!==x&&(k.current=s.current,y.current=x);var B=k.current;return n.createElement(pa,{points:o,showLabels:O},r.children,n.createElement(_e,{animationId:x,begin:u,duration:h,isActive:d,easing:p,onAnimationEnd:T,onAnimationStart:R,key:x},j=>{var oe=w(B,E+B,j),_=Math.min(oe,E),S;if(d)if(c){var de="".concat(c).split(/[,\s]+/gim).map(g=>parseFloat(g));S=ca(_,E,de)}else S=ie(E,_);else S=c==null?void 0:String(c);if(j>0&&E>0&&(i.current=o,s.current=Math.max(s.current,_)),A){var ce=A.length/o.length,z=j===1?o:o.map((g,ue)=>{var F=Math.floor(ue*ce);if(A[F]){var V=A[F];return b(b({},g),{},{x:w(V.x,g.x,j),y:w(V.y,g.y,j)})}return m?b(b({},g),{},{x:w(v*2,g.x,j),y:w(P/2,g.y,j)}):b(b({},g),{},{x:g.x,y:g.y})});return i.current=z,n.createElement(Y,{props:r,points:z,clipPathId:a,pathRef:t,strokeDasharray:S})}return n.createElement(Y,{props:r,points:o,clipPathId:a,pathRef:t,strokeDasharray:S})}),n.createElement(We,{label:r.label}))}function va(e){var{clipPathId:a,props:r}=e,t=n.useRef(null),i=n.useRef(0),s=n.useRef(null);return n.createElement(ma,{props:r,clipPathId:a,previousPointsRef:t,longestAnimatedLengthRef:i,pathRef:s})}var fa=(e,a)=>{var r,t;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(t=e.y)!==null&&t!==void 0?t:void 0,value:e.value,errorVal:ee(e.payload,a)}};class xa extends n.Component{render(){var{hide:a,dot:r,points:t,className:i,xAxisId:s,yAxisId:o,top:c,left:d,width:u,height:h,id:p,needClip:m,zIndex:v}=this.props;if(a)return null;var P=De("recharts-line",i),f=p,{r:I,strokeWidth:A}=Se(r),x=we(r),y=I*2+A,L=m?"url(#clipPath-".concat(x?"":"dots-").concat(f,")"):void 0;return n.createElement(Ce,{zIndex:v},n.createElement(Ne,{className:P},m&&n.createElement("defs",null,n.createElement(ke,{clipPathId:f,xAxisId:s,yAxisId:o}),!x&&n.createElement("clipPath",{id:"clipPath-dots-".concat(f)},n.createElement("rect",{x:d-y/2,y:c-y/2,width:u+y,height:h+y}))),n.createElement(Oe,{xAxisId:s,yAxisId:o,data:t,dataPointFormatter:fa,errorBarOffset:0},n.createElement(va,{props:this.props,clipPathId:f}))),n.createElement(Te,{activeDot:this.props.activeDot,points:t,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:L}))}}var se={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ye.line,type:"linear"};function ya(e){var a=U(e,se),{activeDot:r,animateNewValues:t,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:c,dot:d,hide:u,isAnimationActive:h,label:p,legendType:m,xAxisId:v,yAxisId:P,id:f}=a,I=K(a,ta),{needClip:A}=Ie(v,P),x=Ee(),y=je(),L=H(),D=Le(k=>Qe(k,v,P,L,f));if(y!=="horizontal"&&y!=="vertical"||D==null||x==null)return null;var{height:O,width:T,x:R,y:E}=x;return n.createElement(xa,N({},I,{id:f,connectNulls:c,dot:d,activeDot:r,animateNewValues:t,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:h,hide:u,label:p,legendType:m,xAxisId:v,yAxisId:P,points:D,layout:y,height:O,width:T,left:R,top:E,needClip:A}))}function ga(e){var{layout:a,xAxis:r,yAxis:t,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((u,h)=>{var p=ee(u,o);if(a==="horizontal"){var m=G({axis:r,ticks:i,bandSize:c,entry:u,index:h}),v=M(p)?null:t.scale(p);return{x:m,y:v,value:p,payload:u}}var P=M(p)?null:r.scale(p),f=G({axis:t,ticks:s,bandSize:c,entry:u,index:h});return P==null||f==null?null:{x:P,y:f,value:p,payload:u}}).filter(Boolean)}function Pa(e){var a=U(e,se),r=H();return n.createElement(ge,{id:a.id,type:"line"},t=>n.createElement(n.Fragment,null,n.createElement(Pe,{legendPayload:la(a)}),n.createElement(oa,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),n.createElement(be,{type:"line",id:t,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),n.createElement(ya,N({},a,{id:t}))))}var le=n.memo(Pa,xe);le.displayName="Line";var ba=["axis"],Aa=n.forwardRef((e,a)=>n.createElement($e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ba,tooltipPayloadSearcher:Ge,categoricalChartProps:e,ref:a}));function wa(){const{summary:e,chartData:a,recentEarnings:r}=pe().props;return l.jsx(he,{header:"Promoter Earnings Analytics",children:l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[l.jsx(C,{label:"Total Earnings",value:`₦${e.totalEarnings}`}),l.jsx(C,{label:"Total Withdrawals",value:`₦${e.totalWithdrawals}`}),l.jsx(C,{label:"Available Balance",value:`₦${e.availableBalance}`}),l.jsx(C,{label:"Completed Promotions",value:e.completedPromotions}),l.jsx(C,{label:"Pending Payments",value:e.pendingPayments})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Last 30 Days Earnings"}),l.jsxs(Aa,{width:900,height:350,data:a,children:[l.jsx(Me,{strokeDasharray:"3 3"}),l.jsx(Xe,{dataKey:"date"}),l.jsx(Ye,{}),l.jsx(qe,{}),l.jsx(le,{type:"monotone",dataKey:"total",stroke:"#2563eb",strokeWidth:3})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Earnings"}),l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"py-3",children:"Campaign"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Date"})]})}),l.jsx("tbody",{children:r.map(t=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-3",children:t.campaign?.title}),l.jsxs("td",{children:["₦",t.amount]}),l.jsx("td",{className:"capitalize",children:t.status}),l.jsx("td",{children:t.completed_at})]},t.id))})]})]})]})})}function C({label:e,value:a}){return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow text-center",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:e}),l.jsx("h3",{className:"text-2xl font-bold mt-1",children:a})]})}export{wa as default};
