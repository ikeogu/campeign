import{a as h,u as g,j as e,L as b}from"./app-DoCVv3d-.js";import{A as j}from"./AuthenticatedLayout-D9Z2rWwq.js";import"./ApplicationLogo-X-JWeBbu.js";import"./transition-21UgnQyE.js";const s=t=>`₦${Number(t).toLocaleString("en-NG",{minimumFractionDigits:2})}`;function N(){const{campaign:t,user_balance:o=0}=h().props,a=t.total_budget,i=a,{data:l,setData:m,post:x,errors:d,processing:c}=g({campaign_id:t.id,amount:i}),p=o<500?"text-red-600":"text-green-600";function u(n){n.preventDefault(),x(route("campaigns.process_funding",t.id),{preserveScroll:!0,onSuccess:r=>{if(r?.props?.redirect){window.location.href=r.props.redirect;return}console.log("Campaign funded from wallet")},onError:r=>{console.error("Funding error:",r)}})}return e.jsx(j,{header:`Fund: ${t.title}`,children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs(b,{href:route("campaigns.index"),className:"group flex items-center gap-2 text-pink-600 font-medium hover:text-pink-700 transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:-translate-x-1 transition-transform",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]}),"Back to Campaigns"]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-white px-8 py-6 border-b border-gray-100",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Fund Campaign: ",t.title]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Secure the budget needed to launch your campaign to promoters."})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border-b pb-6 border-gray-100",children:[e.jsxs("div",{className:"bg-pink-50 p-4 rounded-xl shadow-sm text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Your Current Wallet"}),e.jsx("p",{className:`text-2xl font-extrabold mt-1 ${p}`,children:s(o)})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Estimated Campaign Cost"}),e.jsx("p",{className:"text-2xl font-extrabold text-gray-800 mt-1",children:s(a)})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-md text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-red-600",children:"Required Funding"}),e.jsx("p",{className:"text-2xl font-extrabold text-red-700 mt-1",children:s(i)})]})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-bold text-gray-700 mb-2",children:"Amount to Fund"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 text-xl font-bold",children:"₦"})}),e.jsx("input",{id:"amount",type:"number",step:"any",min:"100",className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-pink-500 focus:ring-pink-500 transition-all py-3 pl-8 pr-4 text-lg",value:l.amount,onChange:n=>m("amount",n.target.value)})]}),d.amount&&e.jsx("p",{className:"mt-1 text-sm text-pink-600 font-medium",children:d.amount}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This amount will be added to your wallet and immediately allocated to this campaign."})]}),e.jsx("div",{className:"bg-pink-50 p-4 rounded-lg border border-pink-200",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Your campaign requires **",s(t.payout),"** payout for each of the **",t.target_shares,"** target shares. Total estimated cost: **",s(a),"**."]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c||l.amount<=0,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Initiating Payment..."]}):e.jsxs(e.Fragment,{children:["Proceed to Payment",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 12H3"}),e.jsx("path",{d:"m16 7 5 5-5 5"})]})]})})})]})]})]})]})})})}export{N as default};
