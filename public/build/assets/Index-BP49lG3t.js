import{a as w,r as p,j as e,L as l,b as u}from"./app-BdE2JeFJ.js";import{A as j}from"./AuthenticatedLayout-Dwbnveec.js";import"./ApplicationLogo-CAb9ilhU.js";import"./transition-SvJ214Yr.js";const m=n=>{switch(n?.toLowerCase()){case"active":case"live":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-amber-100 text-amber-800 border-amber-200";case"paused":return"bg-gray-100 text-gray-500 border-gray-200";default:return"bg-pink-100 text-pink-800 border-pink-200"}},v=n=>`â‚¦${Number(n).toLocaleString()}`;function L(){const{campaigns:n,auth:g,flash:d}=w().props,[b,c]=p.useState(!1),[a,h]=p.useState({show:!1,type:"",id:null,title:""});p.useEffect(()=>{if(d?.success){c(!0);const t=setTimeout(()=>c(!1),5e3);return()=>clearTimeout(t)}},[d]);const o=(t,r,s)=>{h({show:!0,id:t,type:r,title:s})},x=()=>h({show:!1,id:null,type:"",title:""}),f=()=>{if(a.type==="delete")u.delete(route("campaigns.destroy",a.id));else{const t=a.type==="resume"?"live":"paused";u.patch(route("campaigns.update-status",a.id),{status:t})}x()};return e.jsxs(j,{user:g.user,children:[b&&d.success&&e.jsx("div",{className:"fixed top-24 right-4 z-[200] animate-in slide-in-from-right duration-300 px-4 w-full max-w-sm",children:e.jsxs("div",{className:"bg-gray-900 text-white px-6 py-4 rounded-2xl shadow-2xl border border-white/10 flex items-center gap-4",children:[e.jsx("div",{className:"shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6 9 17l-5-5"})})}),e.jsx("p",{className:"text-xs font-bold flex-1",children:d.success}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-white transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})}),e.jsx("div",{className:"bg-[#fcfcfc] min-h-screen py-6 md:py-10 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6 pb-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tight leading-none",children:["Your ",e.jsx("span",{className:"text-pink-600",children:"Campaigns"})]}),e.jsx("p",{className:"text-gray-500 mt-2 font-medium italic text-[11px]",children:"Unused balances are refunded to your wallet upon deletion."})]}),e.jsx(l,{href:route("campaigns.create"),className:"w-full md:w-auto text-center bg-gray-900 hover:bg-pink-600 text-white font-black px-8 py-4 rounded-2xl shadow-xl transition-all active:scale-95 text-xs uppercase tracking-widest",children:"Create Campaign"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:n.map(t=>{const r=t.status?.toLowerCase(),s=r==="paused",i=r==="pending",y=Math.min(100,(t.submissions_count||0)/t.target_shares*100);return e.jsxs("div",{className:`bg-white p-5 rounded-[2rem] border border-gray-100 shadow-sm ${s?"opacity-70":""}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-gray-900 uppercase leading-tight",children:t.title}),e.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${m(t.status)}`,children:t.status})]}),e.jsxs("p",{className:"text-[10px] font-black text-pink-600 bg-pink-50 px-2 py-1 rounded-lg",children:[v(t.payout),"/share"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Progress"}),e.jsxs("span",{className:"text-[9px] font-black text-gray-900 uppercase",children:[t.submissions_count," / ",t.target_shares]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-700 ${s?"bg-gray-300":"bg-pink-600"}`,style:{width:`${y}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[(i||s)&&e.jsx(l,{href:route("campaigns.fund",t.id),className:"col-span-2 bg-green-600 text-white text-center py-3 rounded-xl text-[10px] font-black uppercase tracking-widest mb-1",children:"Fund Campaign"}),e.jsx(l,{href:route("campaigns.submissions.index",t.id),className:"bg-gray-900 text-white text-center py-3 rounded-xl text-[10px] font-black uppercase",children:"Review"}),e.jsxs("div",{className:"flex gap-2",children:[!i&&e.jsx("button",{onClick:()=>o(t.id,s?"resume":"pause",t.title),className:"flex-1 bg-gray-50 text-gray-600 border border-gray-100 rounded-xl py-3 flex justify-center",children:s?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})}):e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"})})}),e.jsx("button",{onClick:()=>o(t.id,"delete",t.title),className:"flex-1 bg-red-50 text-red-500 border border-red-100 rounded-xl py-3 flex justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},t.id)})}),e.jsx("div",{className:"hidden md:block bg-white shadow-sm rounded-[2.5rem] overflow-hidden border border-gray-100",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Campaign Info"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Progress"}),e.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Management"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:n.map(t=>{const r=t.status?.toLowerCase(),s=r==="paused",i=r==="pending";return e.jsxs("tr",{className:s?"bg-gray-50/40":"hover:bg-gray-50/20 transition-colors",children:[e.jsxs("td",{className:"px-6 py-6",children:[e.jsx("p",{className:`text-sm font-black uppercase ${s?"text-gray-400":"text-gray-900"}`,children:t.title}),e.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${m(t.status)}`,children:t.status})]}),e.jsxs("td",{className:"px-6 py-6",children:[e.jsx("div",{className:"w-48 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${s?"bg-gray-300":"bg-pink-600"}`,style:{width:`${Math.min(100,(t.submissions_count||0)/t.target_shares*100)}%`}})}),e.jsxs("p",{className:"text-[9px] font-black mt-2 text-gray-400 uppercase",children:[t.submissions_count," / ",t.target_shares," Shares"]})]}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[(i||s)&&e.jsx(l,{href:route("campaigns.fund",t.id),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase hover:bg-green-700 shadow-sm transition-all",children:"Fund"}),e.jsx(l,{href:route("campaigns.submissions.index",t.id),className:"bg-gray-900 text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase hover:bg-pink-600 transition-all",children:"Review"}),!i&&e.jsx("button",{onClick:()=>o(t.id,s?"resume":"pause",t.title),className:`p-2 rounded-xl border transition-all ${s?"bg-white text-green-600 border-green-200":"bg-gray-50 text-gray-500 border-gray-100"}`,children:s?e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})}):e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"})})}),e.jsx("button",{onClick:()=>o(t.id,"delete",t.title),className:"p-2 bg-red-50 text-red-500 rounded-xl border border-red-100 hover:bg-red-600 hover:text-white transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},t.id)})})]})})]})}),a.show&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:x}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:`p-6 text-center text-white ${a.type==="delete"?"bg-red-600":"bg-gray-900"}`,children:e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight leading-none",children:a.type==="delete"?"Delete Campaign?":"Confirm Action"})}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-900 font-black uppercase text-[10px] tracking-widest mb-2",children:a.title}),e.jsx("p",{className:"text-gray-500 text-[11px] font-bold leading-relaxed",children:a.type==="delete"?"Ending this campaign will instantly refund the unused budget back to your wallet.":`Are you sure you want to ${a.type} this campaign?`}),e.jsxs("div",{className:"mt-8 flex flex-col gap-2",children:[e.jsx("button",{onClick:f,className:`w-full py-4 text-white rounded-2xl font-black text-xs uppercase tracking-widest ${a.type==="delete"?"bg-red-600 shadow-red-100":"bg-gray-900 shadow-gray-100"} shadow-xl transition-all active:scale-95`,children:"Confirm & Proceed"}),e.jsx("button",{onClick:x,className:"w-full py-2 text-gray-400 font-bold text-[10px] uppercase tracking-widest",children:"Cancel"})]})]})]})]})]})}export{L as default};
