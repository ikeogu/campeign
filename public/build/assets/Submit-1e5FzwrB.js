import{a as P,r as c,u as U,j as e,H as C}from"./app-BdE2JeFJ.js";import{A}from"./AuthenticatedLayout-Dwbnveec.js";import"./ApplicationLogo-CAb9ilhU.js";import"./transition-SvJ214Yr.js";const h=o=>{const p=o?.toLowerCase()||"";return{twitter:{name:"X",icon:"ð•",baseUrl:"https://x.com/",classes:"bg-blue-50 text-blue-600 border-blue-100"},"x (twitter)":{name:"X",icon:"ð•",baseUrl:"https://x.com/",classes:"bg-blue-50 text-blue-600 border-blue-100"},whatsapp:{name:"WhatsApp",icon:"ðŸ’¬",baseUrl:"https://wa.me/",classes:"bg-green-50 text-green-600 border-green-100"},facebook:{name:"Facebook",icon:"ðŸ‘¥",baseUrl:"https://facebook.com/",classes:"bg-indigo-50 text-indigo-600 border-indigo-100"},instagram:{name:"Instagram",icon:"ðŸ“¸",baseUrl:"https://instagram.com/",classes:"bg-pink-50 text-pink-600 border-pink-100"},tiktok:{name:"TikTok",icon:"ðŸŽµ",baseUrl:"https://tiktok.com/@",classes:"bg-slate-900 text-slate-100 border-slate-700"},youtube:{name:"YouTube",icon:"ðŸ“º",baseUrl:"https://youtube.com/@",classes:"bg-red-50 text-red-600 border-red-100"},threads:{name:"Threads",icon:"ðŸ§µ",baseUrl:"https://threads.net/@",classes:"bg-gray-50 text-gray-900 border-gray-200"},snapchat:{name:"Snapchat",icon:"ðŸ‘»",baseUrl:"https://snapchat.com/add/",classes:"bg-yellow-50 text-yellow-600 border-yellow-200"}}[p]||{name:o,icon:"ðŸ”—",baseUrl:"",classes:"bg-gray-50 text-gray-600 border-gray-200"}};function _({gig:o}){const{auth:p}=P().props,[d,u]=c.useState(null),m=t=>{const s=t?.toLowerCase()||"";return s.includes("twitter")||s==="x"?"twitter":s},b=c.useMemo(()=>{try{const t=o.promoter_social_handles,s=typeof t=="string"?JSON.parse(t):t;return Array.isArray(s)?s.reduce((r,a)=>{if(!a?.platform||!a?.handle)return r;const n=m(a.platform);return r[n]=a.handle,r},{}):{}}catch{return{}}},[o.promoter_social_handles]),f=c.useMemo(()=>Array.isArray(o.platforms)?o.platforms:JSON.parse(o.platforms??"[]"),[o.platforms]),{data:l,setData:g,post:y,processing:x,errors:L,transform:k,clearErrors:w}=U({submissions:f.map(t=>({platform:t,link:"",proof:null}))}),i=(t,s,r)=>{u(null),w(`submissions.${t}.${s}`);const a=[...l.submissions];a[t][s]=r,g("submissions",a)},j=async t=>{try{const s=await navigator.clipboard.readText();s&&i(t,"link",s)}catch{u("Clipboard access denied. Please paste manually.")}},v=(t,s)=>{const r=h(s),a=b[m(s)];if(!a)return;const n=a.replace("@","");i(t,"link",`${r.baseUrl}${n}`)},N=c.useMemo(()=>l.submissions.filter(s=>s.link.trim()!=="").length*Number(o.payout),[l.submissions,o.payout]),S=t=>{if(t.preventDefault(),l.submissions.filter(r=>r.link.trim()!=="").length===0){u("Please fill at least one platform.");return}k(r=>({...r,submissions:r.submissions.filter(a=>a.link.trim()!=="")})),y(route("promoter.gigs.submit.store",o.id),{forceFormData:!0})};return e.jsxs(A,{user:p.user,children:[e.jsx(C,{title:"Submit Proof"}),e.jsx("div",{className:"min-h-screen bg-gray-50/50 pb-24",children:e.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 tracking-tighter uppercase",children:"Submit Proof"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:o.title})]}),e.jsxs("div",{className:"bg-white px-4 py-2 rounded-2xl border border-gray-100 shadow-sm text-right",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Payout"}),e.jsxs("p",{className:"text-lg font-black text-green-600",children:["â‚¦",N.toLocaleString()]})]})]}),d&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-2xl font-bold text-[10px] uppercase",children:["âš ï¸ ",d]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.submissions.map((t,s)=>{const r=h(t.platform),a=!!b[t.platform.toLowerCase()];return e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 shadow-sm border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border font-black text-[9px] uppercase tracking-widest ${r.classes}`,children:[e.jsx("span",{children:r.icon})," ",r.name]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>j(s),className:"text-[9px] font-black text-gray-500 bg-gray-100 px-3 py-2 rounded-xl hover:bg-gray-200 transition-all uppercase active:scale-95",children:"ðŸ“‹ Paste"}),a&&e.jsx("button",{type:"button",onClick:()=>v(s,t.platform),className:"text-[9px] font-black text-pink-600 bg-pink-50 px-3 py-2 rounded-xl hover:bg-pink-100 transition-all uppercase active:scale-95",children:"âœ¨ Profile"})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("input",{type:"url",placeholder:`Paste ${r.name} link...`,className:"w-full bg-gray-50 border-gray-100 rounded-2xl px-5 py-4 font-bold text-sm focus:ring-2 focus:ring-pink-500/20 focus:border-pink-500 transition-all",value:t.link,onChange:n=>i(s,"link",n.target.value)})}),e.jsxs("div",{className:"relative border-2 border-dashed border-gray-100 rounded-2xl p-4 text-center hover:border-pink-200 transition-colors bg-gray-50/30",children:[e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:n=>i(s,"proof",n.target.files[0])}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest truncate",children:t.proof?`âœ… ${t.proof.name}`:"ðŸ“¸ Upload Screenshot (Optional)"})]})]},t.platform)}),e.jsx("button",{type:"submit",disabled:x,className:"w-full py-5 bg-gray-900 text-white font-black rounded-2xl hover:bg-pink-600 transition-all active:scale-95 uppercase text-xs tracking-widest shadow-xl shadow-gray-200",children:x?"Processing...":"Complete Submission"})]})]})})]})}export{_ as default};
