import{a as k,r as u,u as N,j as e}from"./app-Ccd4VGUn.js";import{A as v}from"./AuthenticatedLayout-QoCrb4KX.js";import"./ApplicationLogo-BZU17SCW.js";import"./transition-CZUrVF3l.js";const P=o=>({twitter:{name:"X / Twitter",classes:"bg-blue-50 text-blue-600 border-blue-200"},instagram:{name:"Instagram",classes:"bg-pink-50 text-pink-600 border-pink-200"},tiktok:{name:"TikTok",classes:"bg-slate-900 text-slate-100 border-slate-700"}})[o?.toLowerCase()]||{name:o,classes:"bg-gray-50 text-gray-600 border-gray-200"};function A({gig:o}){const{auth:d}=k().props,x=o?.platforms||[],[c,b]=u.useState({}),{data:n,setData:g,post:h,processing:p,errors:S,transform:f}=N({submissions:x.map(s=>({platform:s,link:"",proof:null}))}),i=u.useMemo(()=>n.submissions.filter(s=>s.link.trim()!==""&&s.proof!==null),[n.submissions]),y=i.length*Number(o.payout),m=(s,r,t)=>{const a=[...n.submissions];a[s][r]=t,g("submissions",a)},j=(s,r,t)=>{if(!t)return;m(s,"proof",t);const a=new FileReader;a.onloadend=()=>b(l=>({...l,[r]:a.result})),a.readAsDataURL(t)},w=s=>{if(s.preventDefault(),i.length===0)return alert("Complete at least one platform.");f(r=>({...r,submissions:i})),h(route("promoter.gigs.submit.store",o.id),{forceFormData:!0})};return e.jsx(v,{user:d.user,children:e.jsx("div",{className:"max-w-2xl mx-auto py-12 px-4",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8 bg-gradient-to-br from-green-50 to-white border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Submit Proof"}),e.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:["Gig: ",o.title]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Expected Earnings"}),e.jsxs("p",{className:"text-3xl font-black text-green-600",children:["₦",y.toLocaleString()]})]})]}),e.jsxs("form",{onSubmit:w,className:"p-8 space-y-8",children:[n.submissions.map((s,r)=>{const t=P(s.platform),a=s.link.trim()!==""&&s.proof!==null;return e.jsxs("div",{className:`p-6 rounded-[2rem] border-2 transition-all ${a?"border-green-200 bg-green-50/30":"border-gray-50 bg-gray-50/50"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border ${t.classes}`,children:t.name})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"url",placeholder:"Paste Link Here",className:"w-full rounded-xl border-gray-200 text-sm font-bold",value:s.link,onChange:l=>m(r,"link",l.target.value)}),e.jsx("input",{type:"file",id:`file-${r}`,className:"hidden",onChange:l=>j(r,s.platform,l.target.files[0])}),e.jsx("label",{htmlFor:`file-${r}`,className:"block text-center py-3 bg-white border-2 border-dashed border-gray-200 rounded-xl cursor-pointer text-xs font-black text-gray-400 uppercase hover:border-green-400 hover:text-green-600 transition-all",children:s.proof?"✓ Proof Attached":"Upload Screenshot"})]}),e.jsx("div",{className:"h-32 bg-white rounded-xl overflow-hidden border border-gray-100 flex items-center justify-center",children:c[s.platform]?e.jsx("img",{src:c[s.platform],className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-[10px] text-gray-300 font-bold uppercase",children:"No Preview"})})]})]},s.platform)}),e.jsx("button",{disabled:p,className:"w-full py-5 bg-green-600 text-white font-black rounded-2xl shadow-xl shadow-green-100 hover:bg-green-700 transition-all uppercase tracking-widest text-sm",children:p?"Uploading Proofs...":"Complete My Payout"})]})]})})})}export{A as default};
