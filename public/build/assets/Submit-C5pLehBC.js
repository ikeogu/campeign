import{a as k,r as i,u as v,j as e,H as N}from"./app-BcjYFqi5.js";import{A as w}from"./AuthenticatedLayout-DwIPJsqU.js";import"./ApplicationLogo-dbJw4VBu.js";import"./transition-3VN1dWSw.js";const P=t=>({twitter:{name:"X / Twitter",icon:"ð•",classes:"bg-blue-50 text-blue-600 border-blue-200"},whatsapp:{name:"WhatsApp",icon:"ðŸ’¬",classes:"bg-green-50 text-green-600 border-green-200"},facebook:{name:"Facebook",icon:"ðŸ‘¥",classes:"bg-indigo-50 text-indigo-600 border-indigo-200"},instagram:{name:"Instagram",icon:"ðŸ“¸",classes:"bg-pink-50 text-pink-600 border-pink-200"},tiktok:{name:"TikTok",icon:"ðŸŽµ",classes:"bg-slate-900 text-slate-100 border-slate-700"},youtube:{name:"YouTube",icon:"ðŸ“º",classes:"bg-red-50 text-red-600 border-red-200"}})[t?.toLowerCase()]||{name:t,icon:"ðŸ”—",classes:"bg-gray-50 text-gray-600 border-gray-200"};function A({gig:t}){const{auth:c}=k().props,[p,d]=i.useState(null),x=i.useMemo(()=>Array.isArray(t.platforms)?t.platforms:JSON.parse(t.platforms??"[]"),[t.platforms]),{data:l,setData:b,post:f,processing:m,errors:n,transform:h,clearErrors:g}=v({submissions:x.map(s=>({platform:s,link:"",proof:null}))}),u=(s,r,a)=>{d(null),g(`submissions.${s}.${r}`);const o=[...l.submissions];o[s][r]=a,b("submissions",o)},y=i.useMemo(()=>l.submissions.filter(r=>r.link.trim()!=="").length*Number(t.payout),[l.submissions,t.payout]),j=s=>{if(s.preventDefault(),l.submissions.filter(a=>a.link.trim()!=="").length===0){d("Please provide a link for at least one platform.");return}h(a=>({...a,submissions:a.submissions.filter(o=>o.link.trim()!=="")})),f(route("promoter.gigs.submit.store",t.id),{forceFormData:!0,preserveScroll:!0})};return e.jsxs(w,{user:c.user,children:[e.jsx(N,{title:"Submit Proof"}),e.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:"Submit Proof"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:["Gig: ",t.title]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Potential Payout"}),e.jsxs("p",{className:"text-3xl font-black text-green-600",children:["â‚¦",y.toLocaleString()]})]})]}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-2xl font-bold text-xs",children:["âš ï¸ ",p]}),e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[l.submissions.map((s,r)=>{const a=P(s.platform);return e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-sm border border-gray-100 space-y-6",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full border font-black text-[10px] uppercase tracking-widest ${a.classes}`,children:[e.jsx("span",{children:a.icon}),a.name]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 ml-1",children:"Post or Profile Link"}),e.jsx("input",{type:"url",placeholder:`https://${s.platform.toLowerCase()}.com/...`,className:"w-full bg-gray-50 border-gray-100 rounded-2xl px-5 py-4 font-bold text-sm focus:ring-pink-500 transition-all",value:s.link,onChange:o=>u(r,"link",o.target.value)}),n[`submissions.${r}.link`]&&e.jsx("p",{className:"text-red-500 text-[10px] mt-2 font-bold uppercase",children:"This link is already used or invalid"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex justify-between text-[10px] font-black text-gray-400 uppercase mb-2 ml-1",children:[e.jsx("span",{children:"Screenshot (Optional)"}),e.jsx("span",{className:"text-gray-300 italic",children:"JPG/PNG/MP4"})]}),e.jsxs("div",{className:"relative border-2 border-dashed border-gray-100 rounded-3xl p-6 text-center hover:border-pink-200 transition-colors group",children:[e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:o=>u(r,"proof",o.target.files[0])}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center text-gray-400 group-hover:text-pink-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]})}),e.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:s.proof?s.proof.name:"Upload media proof"})]})]}),n[`submissions.${r}.proof`]&&e.jsx("p",{className:"text-red-500 text-[10px] mt-2 font-bold italic",children:n[`submissions.${r}.proof`]})]})]},s.platform)}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:m,className:"w-full py-6 bg-gray-900 text-white font-black rounded-[2rem] hover:bg-pink-600 shadow-2xl shadow-gray-200 transition-all active:scale-95 disabled:opacity-50 uppercase text-xs tracking-[0.3em]",children:m?"Processing Submission...":"Finish & Submit All Proofs"})})]})]})]})}export{A as default};
