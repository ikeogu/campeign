import{a as j,r as d,u as N,j as e}from"./app-uJxZbMhP.js";import{A as k}from"./AuthenticatedLayout-GnmdNPMO.js";import"./ApplicationLogo-BlxeOCfe.js";import"./transition-Do5t991w.js";function C({banks:b}){const{auth:w,wallet:p}=j().props,[n,i]=d.useState(""),[u,x]=d.useState(!1),{data:a,setData:r,post:g,processing:m,errors:s}=N({amount:"",bank_code:"",account_number:""}),c=25,o=Number(a.amount)||0,h=o>c?o-c:0;d.useEffect(()=>{a.account_number.length===10&&a.bank_code&&f()},[a.account_number,a.bank_code]);const f=async()=>{x(!0);try{const l=await(await fetch(route("api.bank.resolve",{account_number:a.account_number,bank_code:a.bank_code}))).json();i(l.account_name)}catch{i("Could not verify account")}finally{x(!1)}},y=t=>{t.preventDefault(),g(route("withdraw.store"))};return e.jsx(k,{header:"Withdraw Earnings",children:e.jsx("div",{className:"max-w-xl mx-auto py-12 px-4",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-gray-100 p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-1",children:"Available for Withdrawal"}),e.jsxs("p",{className:"text-4xl font-black text-green-600 tracking-tighter",children:["₦",p.toLocaleString()]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 ml-1",children:"Amount to Withdraw"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border-gray-100 rounded-2xl px-5 py-4 font-bold focus:ring-green-500",value:a.amount,onChange:t=>r("amount",t.target.value),placeholder:"0.00"}),s.amount&&e.jsx("p",{className:"text-red-500 text-[10px] mt-1 font-bold",children:s.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 ml-1",children:"Select Bank"}),e.jsxs("select",{className:"w-full bg-gray-50 border-gray-100 rounded-2xl px-5 py-4 font-bold focus:ring-green-500",value:a.bank_code,onChange:t=>r("bank_code",t.target.value),children:[e.jsx("option",{value:"",children:"Choose your bank..."}),b.map((t,l)=>e.jsx("option",{value:t.code,children:t.name},`${t.code}-${l}`))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 ml-1",children:"Account Number"}),e.jsx("input",{type:"text",maxLength:"10",className:"w-full bg-gray-50 border-gray-100 rounded-2xl px-5 py-4 font-bold focus:ring-green-500",value:a.account_number,onChange:t=>r("account_number",t.target.value),placeholder:"10-digit account number"}),u&&e.jsx("p",{className:"text-[10px] text-blue-500 font-bold mt-1",children:"Verifying account..."}),n&&e.jsx("p",{className:"text-[10px] text-green-600 font-black mt-1 uppercase tracking-widest",children:n}),s.account_number&&e.jsx("p",{className:"text-red-500 text-[10px] mt-1 font-bold",children:s.account_number})]}),o>0&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-dashed border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Transfer Fee"}),e.jsxs("span",{className:"text-red-500",children:["- ₦",c.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-gray-900 font-black text-xs uppercase tracking-widest",children:"Net to Bank"}),e.jsxs("span",{className:"text-green-600 font-black text-sm",children:["₦",h.toLocaleString()]})]})]}),e.jsx("button",{type:"submit",disabled:m||!n||u,className:"w-full py-5 bg-green-600 text-white font-black rounded-2xl hover:bg-green-700 shadow-xl shadow-green-200 transition-all active:scale-95 disabled:opacity-50 uppercase text-xs tracking-widest",children:m?"Processing Payout...":"Confirm Withdrawal"})]})]})})})}export{C as default};
